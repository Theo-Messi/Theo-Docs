---
outline: deep
title: 开启root登陆与防火墙端口
editLink: true
head:
  - - meta
    - name: keywords
      content: Ubuntu Linux 甲骨文云 谷歌云 防火墙 VPS 小主机
---

## 开启 Root 登陆

### 取得 root 权限

先从浏览器打开或者 SSH 工具连接服务器，登陆成功之后输入一下命令

```bash
sudo -i #切换到root
passwd #修改密码
```

### 修改 ssh 配置文件

```bash
vi /etc/ssh/sshd_config #编辑文件
PermitRootLogin yes //默认为no，需要开启root用户访问改为yes
PasswordAuthentication yes //默认为no，改为yes开启密码登陆
```

:::tip
按`i`进入编辑模式，按`esc`退出，输入`:wq`保存
:::

### 重启服务器

```bash
reboot    #重启服务器
```

## 对外开放端口

::: code-group

```sh [Ubuntu]
iptables -P INPUT ACCEPT
iptables -P FORWARD ACCEPT
iptables -P OUTPUT ACCEPT
iptables -F
```

```sh [Centos]
# 删除多余附件
systemctl stop oracle-cloud-agent
systemctl disable oracle-cloud-agent
systemctl stop oracle-cloud-agent-updater
systemctl disable oracle-cloud-agent-updater

# 停止firewall
systemctl stop firewalld.service
# 禁止firewall开机启动
systemctl disable firewalld.service
```
:::

### 关闭 Ubuntu 镜像默认 Iptable 规则

```bash
apt-get purge netfilter-persistent
reboot
```

### 或者强制删除

```bash
rm -rf /etc/iptables && reboot
```

